import{K as D,L as q,R as y,r as s,s as ze,o as P,i as Te,f as ut,I as Re,a as ct,n as W,b as dt,t as ae,c as Ie,d as ft,y as Z,l as ge,e as pe,u as le,g as ie,T as A,p as Ye,h as mt,j as H,k as Ve,m as Oe,q as ve,v as L,O as Ce,A as Y,x as pt,w as ht,z as gt,B as vt,C as xt,H as yt,D as wt,E as bt,F as jt,S as Et,G as Nt,J as Tt,M as Ct,N as St,P as Ft,Q as Ae,U as $t,V as Mt,W as Pt,X as a,Y as kt,Z as Ke,_ as Rt,$ as It,a0 as Lt,a1 as Dt,a2 as E,a3 as Qe,a4 as Gt}from"./index-ubye7jPS.js";let Ht="span";var he=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(he||{});function Ot(e,t){var n;let{features:r=1,...l}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=l["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return q()({ourProps:i,theirProps:l,slot:{},defaultTag:Ht,name:"Hidden"})}let Se=D(Ot),At=s.createContext(()=>{});function Bt({value:e,children:t}){return y.createElement(At.Provider,{value:e},t)}function Xe(e,t,n,r){let l=ze(n);s.useEffect(()=>{e=e??window;function i(c){l.current(c)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function Le(e,t){let n=s.useRef([]),r=P(e);s.useEffect(()=>{let l=[...n.current];for(let[i,c]of t.entries())if(n.current[i]!==c){let u=r(t,l);return n.current=t,u}},[r,...t])}function Wt(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let B=[];Wt(()=>{function e(t){if(!Te(t.target)||t.target===document.body||B[0]===t.target)return;let n=t.target;n=n.closest(ut),B.unshift(n??t.target),B=B.filter(r=>r!=null&&r.isConnected),B.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function qt(e,t=typeof document<"u"?document.defaultView:null,n){let r=Re(e,"escape");Xe(t,"keydown",l=>{r&&(l.defaultPrevented||l.key===ct.Escape&&n(l))})}function Ut(){var e;let[t]=s.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=s.useState((e=t?.matches)!=null?e:!1);return W(()=>{if(!t)return;function l(i){r(i.matches)}return t.addEventListener("change",l),()=>t.removeEventListener("change",l)},[t]),n}function zt({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ie(n),l=P(()=>{var i,c;let u=[];for(let o of e)o!==null&&(ae(o)?u.push(o):"current"in o&&ae(o.current)&&u.push(o.current));if(t!=null&&t.current)for(let o of t.current)u.push(o);for(let o of(i=r?.querySelectorAll("html > *, body > *"))!=null?i:[])o!==document.body&&o!==document.head&&ae(o)&&o.id!=="headlessui-portal-root"&&(n&&(o.contains(n)||o.contains((c=n?.getRootNode())==null?void 0:c.host))||u.some(d=>o.contains(d))||u.push(o));return u});return{resolveContainers:l,contains:P(i=>l().some(c=>c.contains(i)))}}let _e=s.createContext(null);function Be({children:e,node:t}){let[n,r]=s.useState(null),l=Ze(t??n);return y.createElement(_e.Provider,{value:l},e,l===null&&y.createElement(Se,{features:he.Hidden,ref:i=>{var c,u;if(i){for(let o of(u=(c=dt(i))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?u:[])if(o!==document.body&&o!==document.head&&ae(o)&&o!=null&&o.contains(i)){r(o);break}}}}))}function Ze(e=null){var t;return(t=s.useContext(_e))!=null?t:e}function De(){let e=s.useRef(!1);return W(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var re=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(re||{});function Yt(){let e=s.useRef(0);return ft(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Je(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ae(n.current)&&t.add(n.current);return t}let Vt="div";var z=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(z||{});function Kt(e,t){let n=s.useRef(null),r=Z(n,t),{initialFocus:l,initialFocusFallback:i,containers:c,features:u=15,...o}=e;ge()||(u=0);let d=Ie(n);Zt(u,{ownerDocument:d});let v=Jt(u,{ownerDocument:d,container:n,initialFocus:l,initialFocusFallback:i});en(u,{ownerDocument:d,container:n,containers:c,previousActiveElement:v});let g=Yt(),w=P(b=>{if(!pe(n.current))return;let j=n.current;(T=>T())(()=>{le(g.current,{[re.Forwards]:()=>{ie(j,A.First,{skipElements:[b.relatedTarget,i]})},[re.Backwards]:()=>{ie(j,A.Last,{skipElements:[b.relatedTarget,i]})}})})}),m=Re(!!(u&2),"focus-trap#tab-lock"),f=Ye(),h=s.useRef(!1),x={ref:r,onKeyDown(b){b.key=="Tab"&&(h.current=!0,f.requestAnimationFrame(()=>{h.current=!1}))},onBlur(b){if(!(u&4))return;let j=Je(c);pe(n.current)&&j.add(n.current);let T=b.relatedTarget;Te(T)&&T.dataset.headlessuiFocusGuard!=="true"&&(et(j,T)||(h.current?ie(n.current,le(g.current,{[re.Forwards]:()=>A.Next,[re.Backwards]:()=>A.Previous})|A.WrapAround,{relativeTo:b.target}):Te(b.target)&&H(b.target)))}},C=q();return y.createElement(y.Fragment,null,m&&y.createElement(Se,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:he.Focusable}),C({ourProps:x,theirProps:o,defaultTag:Vt,name:"FocusTrap"}),m&&y.createElement(Se,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:w,features:he.Focusable}))}let Qt=D(Kt),Xt=Object.assign(Qt,{features:z});function _t(e=!0){let t=s.useRef(B.slice());return Le(([n],[r])=>{r===!0&&n===!1&&Ve(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=B.slice())},[e,B,t]),P(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Zt(e,{ownerDocument:t}){let n=!!(e&8),r=_t(n);Le(()=>{n||t?.activeElement===t?.body&&H(r())},[n]),mt(()=>{n&&H(r())})}function Jt(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:l}){let i=s.useRef(null),c=Re(!!(e&1),"focus-trap#initial-focus"),u=De();return Le(()=>{if(e===0)return;if(!c){l!=null&&l.current&&H(l.current);return}let o=n.current;o&&Ve(()=>{if(!u.current)return;let d=t?.activeElement;if(r!=null&&r.current){if(r?.current===d){i.current=d;return}}else if(o.contains(d)){i.current=d;return}if(r!=null&&r.current)H(r.current);else{if(e&16){if(ie(o,A.First|A.AutoFocus)!==Oe.Error)return}else if(ie(o,A.First)!==Oe.Error)return;if(l!=null&&l.current&&(H(l.current),t?.activeElement===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t?.activeElement})},[l,c,e]),i}function en(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:l}){let i=De(),c=!!(e&4);Xe(t?.defaultView,"focus",u=>{if(!c||!i.current)return;let o=Je(r);pe(n.current)&&o.add(n.current);let d=l.current;if(!d)return;let v=u.target;pe(v)?et(o,v)?(l.current=v,H(v)):(u.preventDefault(),u.stopPropagation(),H(d)):H(l.current)},!0)}function et(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function tt(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:rt)!==s.Fragment||y.Children.count(e.children)===1}let xe=s.createContext(null);xe.displayName="TransitionContext";var tn=(e=>(e.Visible="visible",e.Hidden="hidden",e))(tn||{});function nn(){let e=s.useContext(xe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function rn(){let e=s.useContext(ye);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let ye=s.createContext(null);ye.displayName="NestingContext";function we(e){return"children"in e?we(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function nt(e,t){let n=ze(e),r=s.useRef([]),l=De(),i=Ye(),c=P((m,f=Y.Hidden)=>{let h=r.current.findIndex(({el:x})=>x===m);h!==-1&&(le(f,{[Y.Unmount](){r.current.splice(h,1)},[Y.Hidden](){r.current[h].state="hidden"}}),i.microTask(()=>{var x;!we(r)&&l.current&&((x=n.current)==null||x.call(n))}))}),u=P(m=>{let f=r.current.find(({el:h})=>h===m);return f?f.state!=="visible"&&(f.state="visible"):r.current.push({el:m,state:"visible"}),()=>c(m,Y.Unmount)}),o=s.useRef([]),d=s.useRef(Promise.resolve()),v=s.useRef({enter:[],leave:[]}),g=P((m,f,h)=>{o.current.splice(0),t&&(t.chains.current[f]=t.chains.current[f].filter(([x])=>x!==m)),t?.chains.current[f].push([m,new Promise(x=>{o.current.push(x)})]),t?.chains.current[f].push([m,new Promise(x=>{Promise.all(v.current[f].map(([C,b])=>b)).then(()=>x())})]),f==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>h(f)):h(f)}),w=P((m,f,h)=>{Promise.all(v.current[f].splice(0).map(([x,C])=>C)).then(()=>{var x;(x=o.current.shift())==null||x()}).then(()=>h(f))});return s.useMemo(()=>({children:r,register:u,unregister:c,onStart:g,onStop:w,wait:d,chains:v}),[u,c,r,g,w,v,d])}let rt=s.Fragment,at=Ce.RenderStrategy;function an(e,t){var n,r;let{transition:l=!0,beforeEnter:i,afterEnter:c,beforeLeave:u,afterLeave:o,enter:d,enterFrom:v,enterTo:g,entered:w,leave:m,leaveFrom:f,leaveTo:h,...x}=e,[C,b]=s.useState(null),j=s.useRef(null),T=tt(e),k=Z(...T?[j,t,b]:t===null?[]:[t]),$=(n=x.unmount)==null||n?Y.Unmount:Y.Hidden,{show:p,appear:S,initial:M}=nn(),[F,G]=s.useState(p?"visible":"hidden"),J=rn(),{register:I,unregister:U}=J;W(()=>I(j),[I,j]),W(()=>{if($===Y.Hidden&&j.current){if(p&&F!=="visible"){G("visible");return}return le(F,{hidden:()=>U(j),visible:()=>I(j)})}},[F,j,I,U,p,$]);let ee=ge();W(()=>{if(T&&ee&&F==="visible"&&j.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[j,F,ee,T]);let je=M&&!S,ue=S&&p&&M,K=s.useRef(!1),Q=nt(()=>{K.current||(G("hidden"),U(j))},J),ce=P(Ne=>{K.current=!0;let fe=Ne?"enter":"leave";Q.onStart(j,fe,ne=>{ne==="enter"?i?.():ne==="leave"&&u?.()})}),O=P(Ne=>{let fe=Ne?"enter":"leave";K.current=!1,Q.onStop(j,fe,ne=>{ne==="enter"?c?.():ne==="leave"&&o?.()}),fe==="leave"&&!we(Q)&&(G("hidden"),U(j))});s.useEffect(()=>{T&&l||(ce(p),O(p))},[p,T,l]);let Ee=!(!l||!T||!ee||je),[,N]=pt(Ee,C,p,{start:ce,end:O}),de=ht({ref:k,className:((r=vt(x.className,ue&&d,ue&&v,N.enter&&d,N.enter&&N.closed&&v,N.enter&&!N.closed&&g,N.leave&&m,N.leave&&!N.closed&&f,N.leave&&N.closed&&h,!N.transition&&p&&w))==null?void 0:r.trim())||void 0,...gt(N)}),te=0;F==="visible"&&(te|=L.Open),F==="hidden"&&(te|=L.Closed),p&&F==="hidden"&&(te|=L.Opening),!p&&F==="visible"&&(te|=L.Closing);let ot=q();return y.createElement(ye.Provider,{value:Q},y.createElement(xt,{value:te},ot({ourProps:de,theirProps:x,defaultTag:rt,features:at,visible:F==="visible",name:"Transition.Child"})))}function sn(e,t){let{show:n,appear:r=!1,unmount:l=!0,...i}=e,c=s.useRef(null),u=tt(e),o=Z(...u?[c,t]:t===null?[]:[t]);ge();let d=ve();if(n===void 0&&d!==null&&(n=(d&L.Open)===L.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[v,g]=s.useState(n?"visible":"hidden"),w=nt(()=>{n||g("hidden")}),[m,f]=s.useState(!0),h=s.useRef([n]);W(()=>{m!==!1&&h.current[h.current.length-1]!==n&&(h.current.push(n),f(!1))},[h,n]);let x=s.useMemo(()=>({show:n,appear:r,initial:m}),[n,r,m]);W(()=>{n?g("visible"):!we(w)&&c.current!==null&&g("hidden")},[n,w]);let C={unmount:l},b=P(()=>{var k;m&&f(!1),(k=e.beforeEnter)==null||k.call(e)}),j=P(()=>{var k;m&&f(!1),(k=e.beforeLeave)==null||k.call(e)}),T=q();return y.createElement(ye.Provider,{value:w},y.createElement(xe.Provider,{value:x},T({ourProps:{...C,as:s.Fragment,children:y.createElement(it,{ref:o,...C,...i,beforeEnter:b,beforeLeave:j})},theirProps:{},defaultTag:s.Fragment,features:at,visible:v==="visible",name:"Transition"})))}function ln(e,t){let n=s.useContext(xe)!==null,r=ve()!==null;return y.createElement(y.Fragment,null,!n&&r?y.createElement(Fe,{ref:t,...e}):y.createElement(it,{ref:t,...e}))}let Fe=D(sn),it=D(an),Ge=D(ln),V=Object.assign(Fe,{Child:Ge,Root:Fe});var on=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(on||{}),un=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(un||{});let cn={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},He=s.createContext(null);He.displayName="DialogContext";function be(e){let t=s.useContext(He);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,be),n}return t}function dn(e,t){return le(t.type,cn,e,t)}let We=D(function(e,t){let n=s.useId(),{id:r=`headlessui-dialog-${n}`,open:l,onClose:i,initialFocus:c,role:u="dialog",autoFocus:o=!0,__demoMode:d=!1,unmount:v=!1,...g}=e,w=s.useRef(!1);u=(function(){return u==="dialog"||u==="alertdialog"?u:(w.current||(w.current=!0,console.warn(`Invalid role [${u}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let m=ve();l===void 0&&m!==null&&(l=(m&L.Open)===L.Open);let f=s.useRef(null),h=Z(f,t),x=Ie(f),C=l?0:1,[b,j]=s.useReducer(dn,{titleId:null,descriptionId:null,panelRef:s.createRef()}),T=P(()=>i(!1)),k=P(N=>j({type:0,id:N})),$=ge()?C===0:!1,[p,S]=wt(),M={get current(){var N;return(N=b.panelRef.current)!=null?N:f.current}},F=Ze(),{resolveContainers:G}=zt({mainTreeNode:F,portals:p,defaultContainers:[M]}),J=m!==null?(m&L.Closing)===L.Closing:!1;bt(d||J?!1:$,{allowed:P(()=>{var N,de;return[(de=(N=f.current)==null?void 0:N.closest("[data-headlessui-portal]"))!=null?de:null]}),disallowed:P(()=>{var N;return[(N=F?.closest("body > *:not(#headlessui-portal-root)"))!=null?N:null]})});let I=jt.get(null);W(()=>{if($)return I.actions.push(r),()=>I.actions.pop(r)},[I,r,$]);let U=Et(I,s.useCallback(N=>I.selectors.isTop(N,r),[I,r]));Nt(U,G,N=>{N.preventDefault(),T()}),qt(U,x?.defaultView,N=>{N.preventDefault(),N.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),Tt(d||J?!1:$,x,G),Ct($,f,T);let[ee,je]=St(),ue=s.useMemo(()=>[{dialogState:C,close:T,setTitleId:k,unmount:v},b],[C,b,T,k,v]),K=s.useMemo(()=>({open:C===0}),[C]),Q={ref:h,id:r,role:u,tabIndex:-1,"aria-modal":d?void 0:C===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":ee,unmount:v},ce=!Ut(),O=z.None;$&&!d&&(O|=z.RestoreFocus,O|=z.TabLock,o&&(O|=z.AutoFocus),ce&&(O|=z.InitialFocus));let Ee=q();return y.createElement(Ft,null,y.createElement(Ae,{force:!0},y.createElement($t,null,y.createElement(He.Provider,{value:ue},y.createElement(Mt,{target:f},y.createElement(Ae,{force:!1},y.createElement(je,{slot:K},y.createElement(S,null,y.createElement(Xt,{initialFocus:c,initialFocusFallback:f,containers:G,features:O},y.createElement(Bt,{value:T},Ee({ourProps:Q,theirProps:g,slot:K,defaultTag:fn,features:mn,visible:C===0,name:"Dialog"})))))))))))}),fn="div",mn=Ce.RenderStrategy|Ce.Static;function pn(e,t){let{transition:n=!1,open:r,...l}=e,i=ve(),c=e.hasOwnProperty("open")||i!==null,u=e.hasOwnProperty("onClose");if(!c&&!u)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!u)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!l.static?y.createElement(Be,null,y.createElement(V,{show:r,transition:n,unmount:l.unmount},y.createElement(We,{ref:t,...l}))):y.createElement(Be,null,y.createElement(We,{ref:t,open:r,...l}))}let hn="div";function gn(e,t){let n=s.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:l=!1,...i}=e,[{dialogState:c,unmount:u},o]=be("Dialog.Panel"),d=Z(t,o.panelRef),v=s.useMemo(()=>({open:c===0}),[c]),g=P(x=>{x.stopPropagation()}),w={ref:d,id:r,onClick:g},m=l?Ge:s.Fragment,f=l?{unmount:u}:{},h=q();return y.createElement(m,{...f},h({ourProps:w,theirProps:i,slot:v,defaultTag:hn,name:"Dialog.Panel"}))}let vn="div";function xn(e,t){let{transition:n=!1,...r}=e,[{dialogState:l,unmount:i}]=be("Dialog.Backdrop"),c=s.useMemo(()=>({open:l===0}),[l]),u={ref:t,"aria-hidden":!0},o=n?Ge:s.Fragment,d=n?{unmount:i}:{},v=q();return y.createElement(o,{...d},v({ourProps:u,theirProps:r,slot:c,defaultTag:vn,name:"Dialog.Backdrop"}))}let yn="h2";function wn(e,t){let n=s.useId(),{id:r=`headlessui-dialog-title-${n}`,...l}=e,[{dialogState:i,setTitleId:c}]=be("Dialog.Title"),u=Z(t);s.useEffect(()=>(c(r),()=>c(null)),[r,c]);let o=s.useMemo(()=>({open:i===0}),[i]),d={ref:u,id:r};return q()({ourProps:d,theirProps:l,slot:o,defaultTag:yn,name:"Dialog.Title"})}let bn=D(pn),jn=D(gn);D(xn);let En=D(wn),_=Object.assign(bn,{Panel:jn,Title:En,Description:yt});class Nn extends s.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,l=kt(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=l-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Tn({children:e,isPresent:t,anchorX:n,root:r}){const l=s.useId(),i=s.useRef(null),c=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=s.useContext(Pt);return s.useInsertionEffect(()=>{const{width:o,height:d,top:v,left:g,right:w}=c.current;if(t||!i.current||!o||!d)return;const m=n==="left"?`left: ${g}`:`right: ${w}`;i.current.dataset.motionPopId=l;const f=document.createElement("style");u&&(f.nonce=u);const h=r??document.head;return h.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${d}px !important;
            ${m}px !important;
            top: ${v}px !important;
          }
        `),()=>{h.contains(f)&&h.removeChild(f)}},[t]),a.jsx(Nn,{isPresent:t,childRef:i,sizeRef:c,children:s.cloneElement(e,{ref:i})})}const Cn=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:i,mode:c,anchorX:u,root:o})=>{const d=Ke(Sn),v=s.useId();let g=!0,w=s.useMemo(()=>(g=!1,{id:v,initial:t,isPresent:n,custom:l,onExitComplete:m=>{d.set(m,!0);for(const f of d.values())if(!f)return;r&&r()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[n,d,r]);return i&&g&&(w={...w}),s.useMemo(()=>{d.forEach((m,f)=>d.set(f,!1))},[n]),s.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(e=a.jsx(Tn,{isPresent:n,anchorX:u,root:o,children:e})),a.jsx(Rt.Provider,{value:w,children:e})};function Sn(){return new Map}const me=e=>e.key||"";function qe(e){const t=[];return s.Children.forEach(e,n=>{s.isValidElement(n)&&t.push(n)}),t}const Ue=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:i="sync",propagate:c=!1,anchorX:u="left",root:o})=>{const[d,v]=It(c),g=s.useMemo(()=>qe(e),[e]),w=c&&!d?[]:g.map(me),m=s.useRef(!0),f=s.useRef(g),h=Ke(()=>new Map),[x,C]=s.useState(g),[b,j]=s.useState(g);Lt(()=>{m.current=!1,f.current=g;for(let $=0;$<b.length;$++){const p=me(b[$]);w.includes(p)?h.delete(p):h.get(p)!==!0&&h.set(p,!1)}},[b,w.length,w.join("-")]);const T=[];if(g!==x){let $=[...g];for(let p=0;p<b.length;p++){const S=b[p],M=me(S);w.includes(M)||($.splice(p,0,S),T.push(S))}return i==="wait"&&T.length&&($=T),j(qe($)),C(g),null}const{forceRender:k}=s.useContext(Dt);return a.jsx(a.Fragment,{children:b.map($=>{const p=me($),S=c&&!d?!1:g===b||w.includes(p),M=()=>{if(h.has(p))h.set(p,!0);else return;let F=!0;h.forEach(G=>{G||(F=!1)}),F&&(k?.(),j(f.current),c&&v?.(),r&&r())};return a.jsx(Cn,{isPresent:S,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:l,mode:i,root:o,onExitComplete:S?void 0:M,anchorX:u,children:$},p)})})},R={SINGLE:"single",DOUBLE:"double"},se={EASY:"easy",MEDIUM:"medium",HARD:"hard"},$e={hidden:{pathLength:0,opacity:0},visible:e=>{const t=e*.5;return{pathLength:1,opacity:1,transition:{pathLength:{delay:t,type:"spring",duration:1.5,bounce:0},opacity:{delay:t,duration:.01}}}}},X=({ind:e,updateSquares:t,clsName:n})=>{const r=()=>{e!==void 0&&t?.(e)};return a.jsxs(E.div,{className:"square",onClick:r,whileHover:e!==void 0?{scale:.95,backgroundColor:"rgba(255, 255, 255, 0.05)"}:{},whileTap:e!==void 0?{scale:.9}:{},transition:{duration:.2},children:[n==="x"&&a.jsx(E.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},children:a.jsx($n,{})}),n==="o"&&a.jsx(E.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:20},children:a.jsx(Fn,{})})]})};function Fn(){return a.jsx(E.svg,{width:"100%",height:"100%",viewBox:"0 0 100 100",initial:"hidden",animate:"visible",style:st,children:a.jsx(E.circle,{className:"circle-path",cx:"50",cy:"50",r:"35",stroke:"#ffa02e",variants:$e,custom:.5,style:Me})})}function $n(){return a.jsxs(E.svg,{width:"100%",height:"100%",viewBox:"0 0 100 100",initial:"hidden",animate:"visible",style:st,children:[a.jsx(E.line,{x1:"25",y1:"25",x2:"75",y2:"75",stroke:"#ff0088",custom:.5,variants:$e,style:Me}),a.jsx(E.line,{x1:"25",y1:"75",x2:"75",y2:"25",stroke:"#ff0088",custom:.5,variants:$e,style:Me})]})}const st={width:"100%",height:"100%"},Me={strokeWidth:5,strokeLinecap:"round",fill:"transparent"},Mn=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],oe=e=>{for(let t of Mn){const[n,r,l]=t;if(e[n]&&e[n]===e[r]&&e[n]===e[l])return e[n]}return null},Pe=e=>e.every(t=>t!==""&&t!==null),ke=(e,t,n)=>{const r=oe(e);if(r==="o")return 10-t;if(r==="x")return t-10;if(Pe(e))return 0;if(n){let l=-1/0;for(let i=0;i<e.length;i++)if(e[i]===""){e[i]="o";const c=ke(e,t+1,!1);e[i]="",l=Math.max(c,l)}return l}else{let l=1/0;for(let i=0;i<e.length;i++)if(e[i]===""){e[i]="x";const c=ke(e,t+1,!0);e[i]="",l=Math.min(c,l)}return l}},Pn=(e,t)=>{if(t==="easy"){const i=e.reduce((c,u,o)=>u===""?[...c,o]:c,[]);return i[Math.floor(Math.random()*i.length)]}if(t==="medium"&&Math.random()<.5){const i=e.reduce((c,u,o)=>u===""?[...c,o]:c,[]);return i[Math.floor(Math.random()*i.length)]}let n=-1/0,r=-1;const l=[4,0,2,6,8];for(let i=0;i<e.length;i++)if(e[i]===""){e[i]="o";const c=oe(e);if(e[i]="",c==="o")return i}for(let i=0;i<e.length;i++)if(e[i]===""){e[i]="x";const c=oe(e);if(e[i]="",c==="x")return i}for(let i=0;i<e.length;i++)if(e[i]===""){e[i]="o";const c=ke(e,0,!1);e[i]="";const u=l.includes(i)?.5:0;c+u>n&&(n=c+u,r=i)}return r},lt=e=>{const[t,n]=s.useState(e||{gameMode:R.SINGLE,player1Name:"",player2Name:"",difficulty:"medium"}),[r,l]=s.useState(Array(9).fill("")),[i,c]=s.useState("x"),[u,o]=s.useState(null),[d,v]=s.useState(t.gameMode===R.SINGLE),[g,w]=s.useState(t.difficulty),[m,f]=s.useState(!1),[h,x]=s.useState(!1),C=p=>{n(S=>p.gameMode?{...S,...p}:{...S,...p})},b=()=>{f(!0)},j=p=>{if(r[p]||u||d&&i==="o")return;const S=[...r];S[p]=i,l(S),c(i==="x"?"o":"x");const M=oe(S);M&&(M==="x"||M==="o")?o(M):Pe(S)&&o("x | o")};s.useEffect(()=>{if(d&&i==="o"&&!u){const p=setTimeout(()=>{const S=Pn([...r],g);if(S!==-1){const M=[...r];M[S]="o",l(M),c("x");const F=oe(M);F&&(F==="x"||F==="o")?o(F):Pe(M)&&o("x | o")}},2200);return()=>clearTimeout(p)}},[i,d,u,g,r]),s.useEffect(()=>{if(m){const p=setTimeout(()=>{f(!1),x(!0)},3e3);return()=>clearTimeout(p)}},[m]);const T=()=>{l(Array(9).fill("")),c("x"),o(null)};return{squares:r,turn:i,winner:u,isAiMode:d,difficulty:g,settings:t,gameStarted:m,redirectToGame:h,updateSquares:j,resetGame:T,toggleAiMode:()=>{v(p=>!p),C({gameMode:d?R.DOUBLE:R.SINGLE}),T()},changeDifficulty:()=>{const p=["easy","medium","hard"],S=p.indexOf(g),M=p[(S+1)%p.length];w(M),C({difficulty:M}),T()},updateSettings:C,startGame:b,setRedirectToGame:x}},kn=({resetGame:e,text:t})=>a.jsx("button",{onClick:()=>e(),children:t??"No text"}),Rn=({isOpen:e,closeModal:t,resetGame:n,backToSettings:r})=>{const l=Qe(),i=()=>{t()},c=()=>{n(),t()},u=()=>{l("/")},o=()=>{r(),t()};return a.jsx(V,{appear:!0,show:e,as:s.Fragment,children:a.jsxs(_,{as:"div",className:"relative z-10",onClose:t,children:[a.jsx(V.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/70"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(V.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsxs(_.Panel,{className:"game-menu-modal w-full max-w-md transform overflow-hidden rounded-2xl bg-gray-800 p-6 text-left align-middle shadow-xl transition-all",children:[a.jsx(_.Title,{as:"h3",className:"text-xl font-bold leading-6 text-white text-center mb-6",children:"Game Menu"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"game-menu-btn",onClick:i,children:"Resume Game"}),a.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"game-menu-btn",onClick:c,children:"New Game"}),a.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"game-menu-btn",onClick:o,children:"Go to Settings"}),a.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"game-menu-btn quit-btn",onClick:u,children:"Quit Game"})]})]})})})})]})})},In=({isOpen:e,closeModal:t,settings:n})=>a.jsx(V,{appear:!0,show:e,as:s.Fragment,children:a.jsxs(_,{as:"div",className:"relative z-10",onClose:t,children:[a.jsx(V.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/70"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:a.jsx(V.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:a.jsxs(_.Panel,{className:"game-menu-modal w-full max-w-md transform overflow-hidden rounded-2xl bg-gray-800 p-6 text-left align-middle shadow-xl transition-all",children:[a.jsx(_.Title,{as:"h3",className:"text-xl font-bold leading-6 text-white text-center mb-6",children:"Current Game Settings"}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-purple-400 font-semibold mb-1",children:"Game Mode"}),a.jsx("p",{className:"text-white",children:n.gameMode===R.SINGLE?"Single Player":"Two Players"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-purple-400 font-semibold mb-1",children:"Player 1"}),a.jsx("p",{className:"text-white",children:n.player1Name||"Player 1"})]}),a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-purple-400 font-semibold mb-1",children:"Player 2"}),a.jsx("p",{className:"text-white",children:n.gameMode===R.SINGLE?"Computer":n.player2Name||"Player 2"})]}),n.gameMode===R.SINGLE&&a.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-purple-400 font-semibold mb-1",children:"Difficulty Level"}),a.jsx("p",{className:"text-white",children:n.difficulty===se.EASY?"Easy":n.difficulty===se.MEDIUM?"Medium":"Hard"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"game-menu-btn",onClick:t,children:"Close"})})]})})})})]})});function Ln(e){const{...t}=e;console.log("Game settings:",t);const n=Qe(),[r,l]=s.useState(!1),[i,c]=s.useState(!1),{squares:u,turn:o,winner:d,isAiMode:v,updateSquares:g,resetGame:w,settings:m}=lt(t),f=()=>{l(!0)},h=()=>{l(!1)},x=()=>{c(!0)},C=()=>{c(!1)},b=()=>d==="x | o"?"It's a Tie!":d==="x"?`${m.player1Name} Wins!`:v?"Computer Wins!":`${m.player2Name} Wins!`;return a.jsxs("div",{className:"tic-tac-toe",children:[a.jsxs("div",{className:"game-controls",children:[a.jsx(E.button,{className:"menu-button",onClick:f,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Game Menu"}),a.jsx(Rn,{isOpen:r,closeModal:h,resetGame:w,backToSettings:e.backToSettings}),a.jsx(E.button,{className:"menu-button",onClick:x,whileHover:{scale:1.05},whileTap:{scale:.95},children:"View Settings"}),a.jsx(In,{isOpen:i,closeModal:C,settings:m})]}),a.jsxs("div",{className:"player-info",children:[a.jsx("div",{className:`player ${o==="x"?"active":""}`,children:a.jsx(E.div,{className:"player-avatar",animate:{scale:o==="x"?1.1:.95,boxShadow:o==="x"?"0 0 20px rgba(255, 0, 136, 0.6)":"none"},transition:{type:"spring",stiffness:300,damping:15},children:a.jsx(X,{clsName:"x"})})}),a.jsx(E.div,{className:"turn-indicator",animate:{x:o==="x"?"-85%":"85%",backgroundColor:o==="x"?"#ff0088":"#ffa02e",color:o==="x"?"#ff0088":"#ffa02e"},initial:{x:0,y:0},transition:{type:"spring",stiffness:300,damping:20},children:a.jsx(E.span,{animate:{opacity:1},initial:{opacity:0},transition:{duration:.2},children:a.jsxs("span",{style:{color:"#ffffff"},children:["Thinking",a.jsx(E.span,{animate:{opacity:[0,1,1,1,0]},transition:{repeat:1/0,duration:2,times:[0,.2,.4,.6,1]},children:"."}),a.jsx(E.span,{animate:{opacity:[0,0,1,1,0]},transition:{repeat:1/0,duration:2,times:[0,.2,.4,.6,1]},children:"."}),a.jsx(E.span,{animate:{opacity:[0,0,0,1,0]},transition:{repeat:1/0,duration:2,times:[0,.2,.4,.6,1]},children:"."})]})},o)}),a.jsx("div",{className:`player ${o==="o"?"active":""}`,children:a.jsx(E.div,{className:"player-avatar",animate:{scale:o==="o"?1.1:.95,boxShadow:o==="o"?"0 0 20px rgba(255, 160, 46, 0.6)":"none"},transition:{type:"spring",stiffness:300,damping:15},children:a.jsx(X,{clsName:"o"})})})]}),a.jsx(E.div,{style:{color:o==="o"?"#ffa02e":"#ff0088",fontWeight:"bold",fontFamily:"sans-serif",marginBottom:"20px"},initial:{scale:.2,opacity:0},animate:{scale:.95,opacity:1,boxShadow:"0 0 0px rgba(255, 160, 46, 0.6)"},transition:{type:"spring",stiffness:300,damping:15,delay:.5},children:a.jsx(Ue,{mode:"wait",children:a.jsx(E.span,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},children:o==="x"?`${m.player1Name}'s Turn`:`${v?"Computer":`${m.player2Name}`}'s Turn`},o==="x"?"player1":"player2")})},o),a.jsx("div",{className:"game",children:Array.from("012345678").map(j=>a.jsx(X,{ind:Number(j),updateSquares:g,clsName:u[Number(j)]},j))}),a.jsx(Ue,{children:d&&a.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"winner",children:a.jsxs(E.div,{initial:{scale:0,y:20},animate:{scale:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",damping:15,stiffness:200},className:"text",children:[a.jsx(E.h2,{initial:{scale:0,y:20},animate:{scale:1,y:0,transition:{type:"spring",damping:12,stiffness:200,delay:.3,duration:.5}},children:b()}),a.jsx(E.div,{initial:{scale:0},animate:{scale:1,transition:{delay:1.3,duration:.2}},className:"win",children:d==="x | o"?a.jsxs(a.Fragment,{children:[a.jsx(X,{clsName:"x"}),a.jsx(X,{clsName:"o"})]}):a.jsx(a.Fragment,{children:a.jsx(X,{clsName:d})})}),a.jsxs(E.div,{initial:{scale:0},animate:{scale:1,transition:{delay:1.5,duration:.3}},className:"winner-buttons",children:[a.jsx(kn,{resetGame:w,text:"Play Again"}),a.jsx(E.button,{onClick:()=>n("/"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"home-btn",children:"Quit Game"})]})]},"child-box")},"parent-box")})]})}const Gn=()=>{const{settings:e,gameStarted:t,redirectToGame:n,updateSettings:r,startGame:l,setRedirectToGame:i}=lt();if(t)return a.jsx(Gt,{});if(n)return a.jsx(Ln,{...e,backToSettings:()=>i(!1)});const c=u=>{u.preventDefault(),l()};return a.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"tictactoe-initial-container",children:[a.jsx("h2",{children:"Tic Tac Toe Settings"}),a.jsxs("form",{onSubmit:c,className:"tictactoe-settings-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Game Mode:"}),a.jsxs("div",{className:"radio-group",children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",value:R.SINGLE,checked:e.gameMode===R.SINGLE,onChange:u=>r({gameMode:u.target.value})}),"Single Player"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",value:R.DOUBLE,checked:e.gameMode===R.DOUBLE,onChange:u=>r({gameMode:u.target.value})}),"Two Players"]})]})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"player1",children:"Player 1 Name:"}),a.jsx("input",{type:"text",id:"player1",value:e.player1Name,onChange:u=>r({player1Name:u.target.value}),required:!0,placeholder:"Enter Player 1 name"})]}),e.gameMode==="double"&&a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"player2",children:"Player 2 Name:"}),a.jsx("input",{type:"text",id:"player2",value:e.player2Name,onChange:u=>r({player2Name:u.target.value}),required:!0,placeholder:"Enter Player 2 name"})]}),e.gameMode===R.SINGLE&&a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"Difficulty Level:"}),a.jsxs("select",{value:e.difficulty,onChange:u=>r({difficulty:u.target.value}),children:[a.jsx("option",{value:se.EASY,children:"Easy"}),a.jsx("option",{value:se.MEDIUM,children:"Medium"}),a.jsx("option",{value:se.HARD,children:"Hard"})]})]}),a.jsx(E.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"start-game-btn",children:"Start Game"})]})]})};export{Gn as default};
